<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Using rcdo • rcdo</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using rcdo">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rcdo</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/using-rcdo.html">Using rcdo</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/eliocamp/rcdo/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Using rcdo</h1>
                        <h4 data-toc-skip class="author">Elio
Campitelli</h4>
            
            <h4 data-toc-skip class="date">2025-05-14</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/eliocamp/rcdo/blob/main/vignettes/using-rcdo.Rmd" class="external-link"><code>vignettes/using-rcdo.Rmd</code></a></small>
      <div class="d-none name"><code>using-rcdo.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://eliocamp.github.io/rcdo/">rcdo</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="how-rcdo-works">How rcdo works<a class="anchor" aria-label="anchor" href="#how-rcdo-works"></a>
</h2>
<p>The rcdo package does very little. It merely translates R functions
into CDO commands that are then executed via <code><a href="https://rdrr.io/r/base/system.html" class="external-link">system()</a></code>
calls. This makes the package relatively simple but requires the user to
have cdo installed separatedly.</p>
<p>Each CDO operator has an equivalent rcdo function, which prefixed
with <code>cdo_</code>. So, if you want to use the <code>monmean</code>
CDO operator to resample a time series into monthly values, you would
use the <code><a href="../reference/monstat.html">cdo_monmean()</a></code> function.</p>
<p>By default, rcdo will use the system installed version. This is safe
and convenient, but there’s no guarantee that the CDO version in your
system is the same as the CDO version used to generate the current rcdo
version. A version mismatch is not critical, since the vast majority of
functionality and documentation will be compatible, so rcdo will emit a
one-time warning but will otherwise still try to execute commands.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/cdo_use.html">cdo_use</a></span><span class="op">(</span><span class="st">"system"</span><span class="op">)</span>  <span class="co"># The default</span></span>
<span><span class="co">#&gt; Using system CDO, version 2.4.3.</span></span></code></pre></div>
<p><code><a href="../reference/cdo_install.html">cdo_install()</a></code> will try to download, compile and install
the “supported” CDO version and then we can use
<code>cdo_use("packaged")</code> to tell rcdo to use the package
version.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># cdo_install()</span></span>
<span><span class="fu"><a href="../reference/cdo_use.html">cdo_use</a></span><span class="op">(</span><span class="st">"packaged"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Using packaged CDO, version 2.5.1.</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="using-rcdo">Using rcdo<a class="anchor" aria-label="anchor" href="#using-rcdo"></a>
</h2>
<p>We will use a sample file.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"hgt_ncep.nc"</span>, package <span class="op">=</span> <span class="st">"rcdo"</span><span class="op">)</span></span></code></pre></div>
<p>We can get a quick look at the contents of the file with the
<code>sinfo</code> (<em>s</em>hort info) operator using the
<code><a href="../reference/sinfo.html">cdo_sinfo()</a></code> function.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/sinfo.html">cdo_sinfo</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/cdo_execute.html">cdo_execute</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "   File format : NetCDF4 classic"                                                      </span></span>
<span><span class="co">#&gt;  [2] "    -1 : Institut Source   T Steptype Levels Num    Points Num Dtype : Parameter ID"   </span></span>
<span><span class="co">#&gt;  [3] "     1 : NCEP     NCEP/DOE v instant       3   1     10512   1  F32  : -1            " </span></span>
<span><span class="co">#&gt;  [4] "   Grid coordinates :"                                                                 </span></span>
<span><span class="co">#&gt;  [5] "     1 : lonlat                   : points=10512 (144x73)"                             </span></span>
<span><span class="co">#&gt;  [6] "                              lon : 0 to 357.5 by 2.5 degrees_east  circular"          </span></span>
<span><span class="co">#&gt;  [7] "                              lat : 90 to -90 by -2.5 degrees_north"                   </span></span>
<span><span class="co">#&gt;  [8] "   Vertical coordinates :"                                                             </span></span>
<span><span class="co">#&gt;  [9] "     1 : pressure                 : levels=3"                                          </span></span>
<span><span class="co">#&gt; [10] "                            level : 1000 to 500 millibar"                              </span></span>
<span><span class="co">#&gt; [11] "   Time coordinate :"                                                                  </span></span>
<span><span class="co">#&gt; [12] "                             time : 24 steps"                                          </span></span>
<span><span class="co">#&gt; [13] "     RefTime =  1800-01-01 00:00:00  Units = hours  Calendar = standard  Bounds = true"</span></span>
<span><span class="co">#&gt; [14] "  YYYY-MM-DD hh:mm:ss  YYYY-MM-DD hh:mm:ss  YYYY-MM-DD hh:mm:ss  YYYY-MM-DD hh:mm:ss"  </span></span>
<span><span class="co">#&gt; [15] "  2000-01-01 00:00:00  2000-02-01 00:00:00  2000-03-01 00:00:00  2000-04-01 00:00:00"  </span></span>
<span><span class="co">#&gt; [16] "  2000-05-01 00:00:00  2000-06-01 00:00:00  2000-07-01 00:00:00  2000-08-01 00:00:00"  </span></span>
<span><span class="co">#&gt; [17] "  2000-09-01 00:00:00  2000-10-01 00:00:00  2000-11-01 00:00:00  2000-12-01 00:00:00"  </span></span>
<span><span class="co">#&gt; [18] "  2001-01-01 00:00:00  2001-02-01 00:00:00  2001-03-01 00:00:00  2001-04-01 00:00:00"  </span></span>
<span><span class="co">#&gt; [19] "  2001-05-01 00:00:00  2001-06-01 00:00:00  2001-07-01 00:00:00  2001-08-01 00:00:00"  </span></span>
<span><span class="co">#&gt; [20] "  2001-09-01 00:00:00  2001-10-01 00:00:00  2001-11-01 00:00:00  2001-12-01 00:00:00"</span></span></code></pre></div>
<p>Notice the use of <code><a href="../reference/cdo_execute.html">cdo_execute()</a></code>. Plain rcdo functions
return an operation waiting to be executed.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/sinfo.html">cdo_sinfo</a></span><span class="op">(</span><span class="op">)</span> </span>
<span><span class="co">#&gt; CDO command:</span></span>
<span><span class="co">#&gt;    /home/user1/.local/share/R/rcdo/cdo-2.5.1/bin/cdo sinfo [ '/home/user1/Documents/r-packages/rcdo/inst/extdata/hgt_ncep.nc' ] {{output}}</span></span></code></pre></div>
<p>This could seem a bit cumbersome for just one operation, but allows
operators to be chained together as we will see later.</p>
<p><code>sinfo</code> is an operator with zero output files. It returns
a string with information. There are other operators like this. For
example, if we wanted to know how many vertical levels are in this file,
we could use the <code><a href="../reference/ninfo.html">cdo_nlevel()</a></code> function.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/ninfo.html">cdo_nlevel</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/cdo_execute.html">cdo_execute</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "3"</span></span></code></pre></div>
<p>For actual data manipulation, we use operators that take a one or
more files and return one or more files. For instance, let’s select only
the Southern Hemisphere in this dataset with the
<code>sellonlatbox</code> operator.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sh</span> <span class="op">&lt;-</span> <span class="va">file</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/selbox.html">cdo_sellonlatbox</a></span><span class="op">(</span>lon1 <span class="op">=</span> <span class="fl">0</span>, lon2 <span class="op">=</span> <span class="fl">360</span>, lat1 <span class="op">=</span> <span class="op">-</span><span class="fl">90</span>, lat2 <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="va">sh</span></span>
<span><span class="co">#&gt; CDO command:</span></span>
<span><span class="co">#&gt;    /home/user1/.local/share/R/rcdo/cdo-2.5.1/bin/cdo sellonlatbox,0,360,-90,0 [ '/home/user1/Documents/r-packages/rcdo/inst/extdata/hgt_ncep.nc' ] {{output}}</span></span></code></pre></div>
<p>At this point, we haven’t done anything; <code>sh</code> is just an
operation waiting to be executed. Because it will return a file,
<code><a href="../reference/cdo_execute.html">cdo_execute()</a></code> needs to know where to save the output. We
can do it explicitly with the <code>output</code> argument.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sh</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/cdo_execute.html">cdo_execute</a></span><span class="op">(</span>output <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5e7820da3c"</span></span>
<span><span class="co">#&gt; attr(,"mtime")</span></span>
<span><span class="co">#&gt; [1] "2025-05-14 10:38:31 AEST"</span></span>
<span><span class="co">#&gt; attr(,"size")</span></span>
<span><span class="co">#&gt; [1] 1580009</span></span></code></pre></div>
<p>(The file size and modification date are attached as attributes to
the output. This potentially makes it possible to memoise functions
based on it).</p>
<p>If we omit that argument, however, rcdo will save the result into a
ephemeral file in a temporary folder.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sh_file</span> <span class="op">&lt;-</span> <span class="va">sh</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/cdo_execute.html">cdo_execute</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">sh_file</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5ebc7fbd2"</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")[[1]]</span></span>
<span><span class="co">#&gt; File will be deleted when garbage collected</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attr(,"mtime")</span></span>
<span><span class="co">#&gt; [1] "2025-05-14 10:38:32 AEST"</span></span>
<span><span class="co">#&gt; attr(,"size")</span></span>
<span><span class="co">#&gt; [1] 1580009</span></span></code></pre></div>
<p>This file will be deleted when the variable holding the path is
removed.</p>
<p>Since <code>sh</code> is not a file, applying another rcdo function
will return a chained set of operations.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sh</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/sinfo.html">cdo_sinfo</a></span><span class="op">(</span><span class="op">)</span> </span>
<span><span class="co">#&gt; CDO command:</span></span>
<span><span class="co">#&gt;    /home/user1/.local/share/R/rcdo/cdo-2.5.1/bin/cdo sinfo [ -sellonlatbox,0,360,-90,0 [ '/home/user1/Documents/r-packages/rcdo/inst/extdata/hgt_ncep.nc' ] ] {{output}}</span></span></code></pre></div>
<p>This is the same as</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/selbox.html">cdo_sellonlatbox</a></span><span class="op">(</span>lon1 <span class="op">=</span> <span class="fl">0</span>, lon2 <span class="op">=</span> <span class="fl">360</span>, lat1 <span class="op">=</span> <span class="op">-</span><span class="fl">90</span>, lat2 <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/sinfo.html">cdo_sinfo</a></span><span class="op">(</span><span class="op">)</span> </span>
<span><span class="co">#&gt; CDO command:</span></span>
<span><span class="co">#&gt;    /home/user1/.local/share/R/rcdo/cdo-2.5.1/bin/cdo sinfo [ -sellonlatbox,0,360,-90,0 [ '/home/user1/Documents/r-packages/rcdo/inst/extdata/hgt_ncep.nc' ] ] {{output}}</span></span></code></pre></div>
<p>We can execute the chain and confirm that <code>sh</code> only
selects the Southen Hemisphere</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sh</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/sinfo.html">cdo_sinfo</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/cdo_execute.html">cdo_execute</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="va">_</span><span class="op">[</span><span class="fl">7</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1] "                              lat : 0 to -90 by -2.5 degrees_north"</span></span></code></pre></div>
<p>It’s more interesting to chain multiple data-manipulating operations.
For example, let’s select only the 500hPa level.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sh_500</span> <span class="op">&lt;-</span> <span class="va">sh</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/selvar.html">cdo_sellevel</a></span><span class="op">(</span><span class="fl">500</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/cdo_execute.html">cdo_execute</a></span><span class="op">(</span><span class="op">)</span> </span></code></pre></div>
<p>We can confirm that the result only has 1 level.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sh_500</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/ninfo.html">cdo_nlevel</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/cdo_execute.html">cdo_execute</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "1"</span></span></code></pre></div>
<p>Other operators take more than one file as arguments.
<code>ymonsub</code> subtracts two files matching the same month of
year. It’s mainly used to compute monthly anomalies by first computing
monthly climatology with ‘ymonmean’.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">climatology</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ymonstat.html">cdo_ymonmean</a></span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span>
<span></span>
<span><span class="va">anomalies</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ymonarith.html">cdo_ymonsub</a></span><span class="op">(</span><span class="va">file</span>, <span class="va">climatology</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/cdo_execute.html">cdo_execute</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Some operators take one file and return an undetermined number of
files. <code>splitmon</code> will return one file per month.
Unfortunately rcdo cannot return the list of files created yet. The
returned string is the base suffix shared by all files.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mon_split</span> <span class="op">&lt;-</span> <span class="va">sh_500</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/splittime.html">cdo_splitmon</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/cdo_execute.html">cdo_execute</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">mon_split</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5e44a2b5a7"</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")[[1]]</span></span>
<span><span class="co">#&gt; File will be deleted when garbage collected</span></span></code></pre></div>
<p>We can get a list of all files by globbing with an asterisk.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mon_split</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">mon_split</span>, <span class="st">"*"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/Sys.glob.html" class="external-link">Sys.glob</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">mon_split</span></span>
<span><span class="co">#&gt;  [1] "/tmp/Rtmp9eAVmx/filee0a5e44a2b5a701.nc" "/tmp/Rtmp9eAVmx/filee0a5e44a2b5a702.nc" "/tmp/Rtmp9eAVmx/filee0a5e44a2b5a703.nc"</span></span>
<span><span class="co">#&gt;  [4] "/tmp/Rtmp9eAVmx/filee0a5e44a2b5a704.nc" "/tmp/Rtmp9eAVmx/filee0a5e44a2b5a705.nc" "/tmp/Rtmp9eAVmx/filee0a5e44a2b5a706.nc"</span></span>
<span><span class="co">#&gt;  [7] "/tmp/Rtmp9eAVmx/filee0a5e44a2b5a707.nc" "/tmp/Rtmp9eAVmx/filee0a5e44a2b5a708.nc" "/tmp/Rtmp9eAVmx/filee0a5e44a2b5a709.nc"</span></span>
<span><span class="co">#&gt; [10] "/tmp/Rtmp9eAVmx/filee0a5e44a2b5a710.nc" "/tmp/Rtmp9eAVmx/filee0a5e44a2b5a711.nc" "/tmp/Rtmp9eAVmx/filee0a5e44a2b5a712.nc"</span></span></code></pre></div>
<p>(Note that this is not entirely reliable since it assumes that there
are no other files that share the same suffix.)</p>
<p>And now we can use the files normally. These will not be
automatically deleted by R (although they will eventually be deleted by
your OS is they are in the correct temporary folder).</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mon_split</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/sinfo.html">cdo_sinfo</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/cdo_execute.html">cdo_execute</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="va">_</span><span class="op">[</span><span class="fl">11</span><span class="op">:</span><span class="fl">15</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1] "   Time coordinate :"                                                                  </span></span>
<span><span class="co">#&gt; [2] "                             time : 2 steps"                                           </span></span>
<span><span class="co">#&gt; [3] "     RefTime =  1800-01-01 00:00:00  Units = hours  Calendar = standard  Bounds = true"</span></span>
<span><span class="co">#&gt; [4] "  YYYY-MM-DD hh:mm:ss  YYYY-MM-DD hh:mm:ss  YYYY-MM-DD hh:mm:ss  YYYY-MM-DD hh:mm:ss"  </span></span>
<span><span class="co">#&gt; [5] "  2000-01-01 00:00:00  2001-01-01 00:00:00"</span></span></code></pre></div>
<p>We can use functional programming to apply one or more operations to
each file.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mon_split</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">cdo_deltat</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; CDO command:</span></span>
<span><span class="co">#&gt;    /home/user1/.local/share/R/rcdo/cdo-2.5.1/bin/cdo deltat [ '/tmp/Rtmp9eAVmx/filee0a5e44a2b5a701.nc' ] {{output}} </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; CDO command:</span></span>
<span><span class="co">#&gt;    /home/user1/.local/share/R/rcdo/cdo-2.5.1/bin/cdo deltat [ '/tmp/Rtmp9eAVmx/filee0a5e44a2b5a702.nc' ] {{output}} </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; CDO command:</span></span>
<span><span class="co">#&gt;    /home/user1/.local/share/R/rcdo/cdo-2.5.1/bin/cdo deltat [ '/tmp/Rtmp9eAVmx/filee0a5e44a2b5a703.nc' ] {{output}} </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[4]]</span></span>
<span><span class="co">#&gt; CDO command:</span></span>
<span><span class="co">#&gt;    /home/user1/.local/share/R/rcdo/cdo-2.5.1/bin/cdo deltat [ '/tmp/Rtmp9eAVmx/filee0a5e44a2b5a704.nc' ] {{output}} </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[5]]</span></span>
<span><span class="co">#&gt; CDO command:</span></span>
<span><span class="co">#&gt;    /home/user1/.local/share/R/rcdo/cdo-2.5.1/bin/cdo deltat [ '/tmp/Rtmp9eAVmx/filee0a5e44a2b5a705.nc' ] {{output}} </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[6]]</span></span>
<span><span class="co">#&gt; CDO command:</span></span>
<span><span class="co">#&gt;    /home/user1/.local/share/R/rcdo/cdo-2.5.1/bin/cdo deltat [ '/tmp/Rtmp9eAVmx/filee0a5e44a2b5a706.nc' ] {{output}} </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[7]]</span></span>
<span><span class="co">#&gt; CDO command:</span></span>
<span><span class="co">#&gt;    /home/user1/.local/share/R/rcdo/cdo-2.5.1/bin/cdo deltat [ '/tmp/Rtmp9eAVmx/filee0a5e44a2b5a707.nc' ] {{output}} </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[8]]</span></span>
<span><span class="co">#&gt; CDO command:</span></span>
<span><span class="co">#&gt;    /home/user1/.local/share/R/rcdo/cdo-2.5.1/bin/cdo deltat [ '/tmp/Rtmp9eAVmx/filee0a5e44a2b5a708.nc' ] {{output}} </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[9]]</span></span>
<span><span class="co">#&gt; CDO command:</span></span>
<span><span class="co">#&gt;    /home/user1/.local/share/R/rcdo/cdo-2.5.1/bin/cdo deltat [ '/tmp/Rtmp9eAVmx/filee0a5e44a2b5a709.nc' ] {{output}} </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[10]]</span></span>
<span><span class="co">#&gt; CDO command:</span></span>
<span><span class="co">#&gt;    /home/user1/.local/share/R/rcdo/cdo-2.5.1/bin/cdo deltat [ '/tmp/Rtmp9eAVmx/filee0a5e44a2b5a710.nc' ] {{output}} </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[11]]</span></span>
<span><span class="co">#&gt; CDO command:</span></span>
<span><span class="co">#&gt;    /home/user1/.local/share/R/rcdo/cdo-2.5.1/bin/cdo deltat [ '/tmp/Rtmp9eAVmx/filee0a5e44a2b5a711.nc' ] {{output}} </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[12]]</span></span>
<span><span class="co">#&gt; CDO command:</span></span>
<span><span class="co">#&gt;    /home/user1/.local/share/R/rcdo/cdo-2.5.1/bin/cdo deltat [ '/tmp/Rtmp9eAVmx/filee0a5e44a2b5a712.nc' ] {{output}}</span></span></code></pre></div>
<p>To execute a list of operations, use
<code><a href="../reference/cdo_execute.html">cdo_execute_list()</a></code>.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mon_split</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">cdo_deltat</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/cdo_execute.html">cdo_execute_list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5e2a5212ea"</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")[[1]]</span></span>
<span><span class="co">#&gt; File will be deleted when garbage collected</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attr(,"mtime")</span></span>
<span><span class="co">#&gt; [1] "2025-05-14 10:38:32 AEST"</span></span>
<span><span class="co">#&gt; attr(,"size")</span></span>
<span><span class="co">#&gt; [1] 59545</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5e7ec35c5"</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")[[1]]</span></span>
<span><span class="co">#&gt; File will be deleted when garbage collected</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attr(,"mtime")</span></span>
<span><span class="co">#&gt; [1] "2025-05-14 10:38:32 AEST"</span></span>
<span><span class="co">#&gt; attr(,"size")</span></span>
<span><span class="co">#&gt; [1] 59545</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5e3048379e"</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")[[1]]</span></span>
<span><span class="co">#&gt; File will be deleted when garbage collected</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attr(,"mtime")</span></span>
<span><span class="co">#&gt; [1] "2025-05-14 10:38:32 AEST"</span></span>
<span><span class="co">#&gt; attr(,"size")</span></span>
<span><span class="co">#&gt; [1] 59545</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[4]]</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5ef5e0588"</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")[[1]]</span></span>
<span><span class="co">#&gt; File will be deleted when garbage collected</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attr(,"mtime")</span></span>
<span><span class="co">#&gt; [1] "2025-05-14 10:38:32 AEST"</span></span>
<span><span class="co">#&gt; attr(,"size")</span></span>
<span><span class="co">#&gt; [1] 59545</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[5]]</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5e10de3ecb"</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")[[1]]</span></span>
<span><span class="co">#&gt; File will be deleted when garbage collected</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attr(,"mtime")</span></span>
<span><span class="co">#&gt; [1] "2025-05-14 10:38:32 AEST"</span></span>
<span><span class="co">#&gt; attr(,"size")</span></span>
<span><span class="co">#&gt; [1] 59545</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[6]]</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5e3c103371"</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")[[1]]</span></span>
<span><span class="co">#&gt; File will be deleted when garbage collected</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attr(,"mtime")</span></span>
<span><span class="co">#&gt; [1] "2025-05-14 10:38:32 AEST"</span></span>
<span><span class="co">#&gt; attr(,"size")</span></span>
<span><span class="co">#&gt; [1] 59545</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[7]]</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5e16d6377f"</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")[[1]]</span></span>
<span><span class="co">#&gt; File will be deleted when garbage collected</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attr(,"mtime")</span></span>
<span><span class="co">#&gt; [1] "2025-05-14 10:38:32 AEST"</span></span>
<span><span class="co">#&gt; attr(,"size")</span></span>
<span><span class="co">#&gt; [1] 59545</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[8]]</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5e56fd5ceb"</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")[[1]]</span></span>
<span><span class="co">#&gt; File will be deleted when garbage collected</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attr(,"mtime")</span></span>
<span><span class="co">#&gt; [1] "2025-05-14 10:38:32 AEST"</span></span>
<span><span class="co">#&gt; attr(,"size")</span></span>
<span><span class="co">#&gt; [1] 59545</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[9]]</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5e9ebb1b8"</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")[[1]]</span></span>
<span><span class="co">#&gt; File will be deleted when garbage collected</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attr(,"mtime")</span></span>
<span><span class="co">#&gt; [1] "2025-05-14 10:38:32 AEST"</span></span>
<span><span class="co">#&gt; attr(,"size")</span></span>
<span><span class="co">#&gt; [1] 59545</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[10]]</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5e6b70a80a"</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")[[1]]</span></span>
<span><span class="co">#&gt; File will be deleted when garbage collected</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attr(,"mtime")</span></span>
<span><span class="co">#&gt; [1] "2025-05-14 10:38:33 AEST"</span></span>
<span><span class="co">#&gt; attr(,"size")</span></span>
<span><span class="co">#&gt; [1] 59545</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[11]]</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5ec9c1f12"</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")[[1]]</span></span>
<span><span class="co">#&gt; File will be deleted when garbage collected</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attr(,"mtime")</span></span>
<span><span class="co">#&gt; [1] "2025-05-14 10:38:33 AEST"</span></span>
<span><span class="co">#&gt; attr(,"size")</span></span>
<span><span class="co">#&gt; [1] 59545</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[12]]</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5e11dec2fd"</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")[[1]]</span></span>
<span><span class="co">#&gt; File will be deleted when garbage collected</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attr(,"mtime")</span></span>
<span><span class="co">#&gt; [1] "2025-05-14 10:38:33 AEST"</span></span>
<span><span class="co">#&gt; attr(,"size")</span></span>
<span><span class="co">#&gt; [1] 59545</span></span></code></pre></div>
<p>We could’ve also have executed each operation inside the
<code>lapply</code> call. However, because of the way
<code>lapply</code> combines outputs, the ephemeral files will be
deleted. So you need to either use <code><a href="../reference/cdo_execute.html">cdo_execute_list()</a></code> or
take care of explicitly creating temporary files.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mon_split</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="../reference/deltat.html">cdo_deltat</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/cdo_execute.html">cdo_execute</a></span><span class="op">(</span>output <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5e17bdb9ec"</span></span>
<span><span class="co">#&gt; attr(,"mtime")</span></span>
<span><span class="co">#&gt; [1] "2025-05-14 10:38:33 AEST"</span></span>
<span><span class="co">#&gt; attr(,"size")</span></span>
<span><span class="co">#&gt; [1] 59545</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5e617c3903"</span></span>
<span><span class="co">#&gt; attr(,"mtime")</span></span>
<span><span class="co">#&gt; [1] "2025-05-14 10:38:33 AEST"</span></span>
<span><span class="co">#&gt; attr(,"size")</span></span>
<span><span class="co">#&gt; [1] 59545</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5e27553394"</span></span>
<span><span class="co">#&gt; attr(,"mtime")</span></span>
<span><span class="co">#&gt; [1] "2025-05-14 10:38:33 AEST"</span></span>
<span><span class="co">#&gt; attr(,"size")</span></span>
<span><span class="co">#&gt; [1] 59545</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[4]]</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5e7e6fdf0b"</span></span>
<span><span class="co">#&gt; attr(,"mtime")</span></span>
<span><span class="co">#&gt; [1] "2025-05-14 10:38:33 AEST"</span></span>
<span><span class="co">#&gt; attr(,"size")</span></span>
<span><span class="co">#&gt; [1] 59545</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[5]]</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5e437efdf4"</span></span>
<span><span class="co">#&gt; attr(,"mtime")</span></span>
<span><span class="co">#&gt; [1] "2025-05-14 10:38:33 AEST"</span></span>
<span><span class="co">#&gt; attr(,"size")</span></span>
<span><span class="co">#&gt; [1] 59545</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[6]]</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5e280ffaa8"</span></span>
<span><span class="co">#&gt; attr(,"mtime")</span></span>
<span><span class="co">#&gt; [1] "2025-05-14 10:38:33 AEST"</span></span>
<span><span class="co">#&gt; attr(,"size")</span></span>
<span><span class="co">#&gt; [1] 59545</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[7]]</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5e1898f2bc"</span></span>
<span><span class="co">#&gt; attr(,"mtime")</span></span>
<span><span class="co">#&gt; [1] "2025-05-14 10:38:33 AEST"</span></span>
<span><span class="co">#&gt; attr(,"size")</span></span>
<span><span class="co">#&gt; [1] 59545</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[8]]</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5e72aeb36b"</span></span>
<span><span class="co">#&gt; attr(,"mtime")</span></span>
<span><span class="co">#&gt; [1] "2025-05-14 10:38:33 AEST"</span></span>
<span><span class="co">#&gt; attr(,"size")</span></span>
<span><span class="co">#&gt; [1] 59545</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[9]]</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5e6cb2b04f"</span></span>
<span><span class="co">#&gt; attr(,"mtime")</span></span>
<span><span class="co">#&gt; [1] "2025-05-14 10:38:33 AEST"</span></span>
<span><span class="co">#&gt; attr(,"size")</span></span>
<span><span class="co">#&gt; [1] 59545</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[10]]</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5e32470d4b"</span></span>
<span><span class="co">#&gt; attr(,"mtime")</span></span>
<span><span class="co">#&gt; [1] "2025-05-14 10:38:33 AEST"</span></span>
<span><span class="co">#&gt; attr(,"size")</span></span>
<span><span class="co">#&gt; [1] 59545</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[11]]</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5e7f5c2b0f"</span></span>
<span><span class="co">#&gt; attr(,"mtime")</span></span>
<span><span class="co">#&gt; [1] "2025-05-14 10:38:33 AEST"</span></span>
<span><span class="co">#&gt; attr(,"size")</span></span>
<span><span class="co">#&gt; [1] 59545</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[12]]</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5e380afe7a"</span></span>
<span><span class="co">#&gt; attr(,"mtime")</span></span>
<span><span class="co">#&gt; [1] "2025-05-14 10:38:33 AEST"</span></span>
<span><span class="co">#&gt; attr(,"size")</span></span>
<span><span class="co">#&gt; [1] 59545</span></span></code></pre></div>
<p>Finally, some operators take a vector of files and return a single
file. We can re-merge the list of files with
<code><a href="../reference/merge.html">cdo_mergetime()</a></code>.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">merged</span> <span class="op">&lt;-</span> <span class="va">mon_split</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/merge.html">cdo_mergetime</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/cdo_execute.html">cdo_execute</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">merged</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/ninfo.html">cdo_ntime</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/cdo_execute.html">cdo_execute</a></span><span class="op">(</span><span class="op">)</span>   </span>
<span><span class="co">#&gt; [1] "24"</span></span></code></pre></div>
<p>Because rcdo can chain operations, there is no need of executing the
individual operations and then merging. <code><a href="../reference/merge.html">cdo_mergetime()</a></code> can
take a list of operations naturally, so we could do this</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mon_split</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">cdo_deltat</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/merge.html">cdo_mergetime</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/cdo_execute.html">cdo_execute</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "/tmp/Rtmp9eAVmx/filee0a5e79085d5b"</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")</span></span>
<span><span class="co">#&gt; attr(,"ephemeral")[[1]]</span></span>
<span><span class="co">#&gt; File will be deleted when garbage collected</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attr(,"mtime")</span></span>
<span><span class="co">#&gt; [1] "2025-05-14 10:38:33 AEST"</span></span>
<span><span class="co">#&gt; attr(,"size")</span></span>
<span><span class="co">#&gt; [1] 295001</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="important-limitations">Important limitations<a class="anchor" aria-label="anchor" href="#important-limitations"></a>
</h2>
<p><strong>Important</strong></p>
<p>The whole rcdo package and its documentation is built automatically
from the CDO source. This comes with some limitations.</p>
<p>CDO operators are documented in “families” where all parameters are
documented together. Currently there is no way for the build process to
correctly attribute each parameter to the correct operator. This
unfortunately means that rcdo functions have every argument from a
particular family. For example, the functions
<code><a href="../reference/selbox.html">cdo_selindexbox()</a></code> and <code><a href="../reference/selbox.html">cdo_sellonlatbox()</a></code> both
have <code>lon1</code> in their signature.</p>
<p>The conversion from rcdo function arguments to CDO command parameters
is pretty dumb. Argument names re only for the user convenience and are
not really used: function arguments are converted to CDO parameters
simply in the order they are defined in the function signature. Neither
are argument checked for validity. This means that
<code>cdo_sellonlatbox(file, lon1 = 0)</code> will not return an error
even though the operator is missing other necessary arguments. Also
<code>cdo_sellonlatbox(file, idx1 = 0)</code> is identical to
<code>cdo_sellonlatbox(file, lon1 = 0)</code>.</p>
<p>Some CDO operators need named parameters. rcdo currently doesn’t know
how to deal with that, so you need to pass the names yourself. So
<code>cdo_select(file, name = "temperature")</code> doesn’t work, you
need to do <code>cdo_select(file, name = "name=temperature")</code>,
which is equivalent to
<code>cdo_select(file, code = "name=temperature")</code> due to the
previously described limitation.</p>
<p>Some parameters need to be quoted. For example, the expression in the
<code>expr</code> operator needs to be surrounded by quotes. Again, rcdo
doesn’t know this so you must “double quote” the argument yourself;
i.e. <code>cdo_expr(file, "'t_celcius=t-273.15'")</code>.</p>
<p>Some documentation formatting might be incorrect. If you spot some
part of the documentation that didn’t survive the conversion, <a href="https://github.com/eliocamp/rcdo/issues" class="external-link">open an issue</a>!</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Elio Campitelli.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
