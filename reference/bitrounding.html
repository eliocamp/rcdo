<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Bit rounding — bitrounding • rcdo</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Bit rounding — bitrounding"><meta name="description" content="This operator calculates for each field the number of necessary mantissa bits to get a certain information level in the data. With this number of significant bits (numbits) a rounding of the data is performed. This allows the data to be compressed to a higher level.  The default value of the information level is 0.9999 and can be adjusted with the parameter inflevel. That means 99.99% of the information in the mantissa bits is preserved.  Alternatively, the number of significant bits can be set for all variables with the numbits parameter. Furthermore, numbits can be assigned for each variable via the filename parameter. In this case, numbits is still calculated for all variables if they are not present in the file.  The analysis of the bit information is based on the Julia library BitInformation.jl (https://github.com/milankl/BitInformation.jl). The procedure to derive the number of significant mantissa bits was adapted from the Python library xbitinfo (https://github.com/observingClouds/xbitinfo). Quantize to the number of mantissa bits is done with IEEE rounding using code from NetCDF 4.9.0.  Currently only 32-bit float data is rounded. Data with missing values are not yet supported for the calculation of significant bits."><meta property="og:description" content="This operator calculates for each field the number of necessary mantissa bits to get a certain information level in the data. With this number of significant bits (numbits) a rounding of the data is performed. This allows the data to be compressed to a higher level.  The default value of the information level is 0.9999 and can be adjusted with the parameter inflevel. That means 99.99% of the information in the mantissa bits is preserved.  Alternatively, the number of significant bits can be set for all variables with the numbits parameter. Furthermore, numbits can be assigned for each variable via the filename parameter. In this case, numbits is still calculated for all variables if they are not present in the file.  The analysis of the bit information is based on the Julia library BitInformation.jl (https://github.com/milankl/BitInformation.jl). The procedure to derive the number of significant mantissa bits was adapted from the Python library xbitinfo (https://github.com/observingClouds/xbitinfo). Quantize to the number of mantissa bits is done with IEEE rounding using code from NetCDF 4.9.0.  Currently only 32-bit float data is rounded. Data with missing values are not yet supported for the calculation of significant bits."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rcdo</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/using-rcdo.html">Using rcdo</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/eliocamp/rcdo/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Bit rounding</h1>
      <small class="dont-index">Source: <a href="https://github.com/eliocamp/rcdo/blob/main/R/family-bitrounding.R" class="external-link"><code>R/family-bitrounding.R</code></a>, <a href="https://github.com/eliocamp/rcdo/blob/main/R/op-cdo-bitrounding.R" class="external-link"><code>R/op-cdo-bitrounding.R</code></a></small>
      <div class="d-none name"><code>bitrounding.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This operator calculates for each field the number of necessary mantissa bits to get a certain information level in the data. With this number of significant bits (numbits) a rounding of the data is performed. This allows the data to be compressed to a higher level.  The default value of the information level is 0.9999 and can be adjusted with the parameter inflevel. That means 99.99% of the information in the mantissa bits is preserved.  Alternatively, the number of significant bits can be set for all variables with the numbits parameter. Furthermore, numbits can be assigned for each variable via the filename parameter. In this case, numbits is still calculated for all variables if they are not present in the file.  The analysis of the bit information is based on the Julia library BitInformation.jl (https://github.com/milankl/BitInformation.jl). The procedure to derive the number of significant mantissa bits was adapted from the Python library xbitinfo (https://github.com/observingClouds/xbitinfo). Quantize to the number of mantissa bits is done with IEEE rounding using code from NetCDF 4.9.0.  Currently only 32-bit float data is rounded. Data with missing values are not yet supported for the calculation of significant bits.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cdo_bitrounding</span><span class="op">(</span></span>
<span>  <span class="va">ifile</span>,</span>
<span>  inflevel <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  addbits <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  minbits <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  maxbits <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  numsteps <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  numbits <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  printbits <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  filename <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ofile <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-ifile">ifile<a class="anchor" aria-label="anchor" href="#arg-ifile"></a></dt>
<dd><p>String with the path to the input file.</p></dd>


<dt id="arg-inflevel">inflevel<a class="anchor" aria-label="anchor" href="#arg-inflevel"></a></dt>
<dd><p>FLOAT - Information level (0 - 1) [default: 0.9999]</p></dd>


<dt id="arg-addbits">addbits<a class="anchor" aria-label="anchor" href="#arg-addbits"></a></dt>
<dd><p>INTEGER - Add bits to the number of significant bits [default: 0]</p></dd>


<dt id="arg-minbits">minbits<a class="anchor" aria-label="anchor" href="#arg-minbits"></a></dt>
<dd><p>INTEGER - Minimum value of the number of bits [default: 1]</p></dd>


<dt id="arg-maxbits">maxbits<a class="anchor" aria-label="anchor" href="#arg-maxbits"></a></dt>
<dd><p>INTEGER - Maximum value of the number of bits [default: 23]</p></dd>


<dt id="arg-numsteps">numsteps<a class="anchor" aria-label="anchor" href="#arg-numsteps"></a></dt>
<dd><p>INTEGER - Set to 1 to run the calculation only in the first time step</p></dd>


<dt id="arg-numbits">numbits<a class="anchor" aria-label="anchor" href="#arg-numbits"></a></dt>
<dd><p>INTEGER - Set number of significant bits</p></dd>


<dt id="arg-printbits">printbits<a class="anchor" aria-label="anchor" href="#arg-printbits"></a></dt>
<dd><p>BOOL - Print max. numbits per variable of 1st timestep to stdout [format: name=numbits]</p></dd>


<dt id="arg-filename">filename<a class="anchor" aria-label="anchor" href="#arg-filename"></a></dt>
<dd><p>STRING - Read number of significant bits per variable from file [format: name=numbits]</p></dd>


<dt id="arg-ofile">ofile<a class="anchor" aria-label="anchor" href="#arg-ofile"></a></dt>
<dd><p>String with the path to the output file.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Operators that output one or more files return a character vector to the
output files.</p>
<p>Operators that output an indefinite number of files return a string with the
basename of the files.</p>
<p>Operatos that don't return filenames return a character vector with the
string output.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Elio Campitelli.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

